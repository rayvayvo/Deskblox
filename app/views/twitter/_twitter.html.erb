<% TwitterHelper.parse_timeline() %>
<div class='tweets_header'>
  <%= image_tag("twitter_logo.png", class: "twitter_branding") %>
</div>
<div class = 'tweets tweet_marquee'>
  <% tweets = TwitterHelper.getLatestTweets(20) %>
  <% tweets.each do | tweet | %>
    <% if not tweet.possibly_sensitive %>
      <div class = 'tweet'>
      <div class = 'tweet_user'>
        <img class = 'tweet_avatar' src="<%= tweet.avatar %>">
        <div class = 'tweet_username'><%= tweet.user_name %></div>
        <div class = 'tweet_handle'>@<%= tweet.handle %></div>
      </div>
      <div class = 'tweet_text'><%= tweet.text %></div>
      </div>
    <% end %>
  <% end %>
</div>

<script type="text/javascript">
  $('.tweet_marquee').marquee({
      //speed in milliseconds of the marquee
      duration: 10000,
      //gap in pixels between the tickers
      gap: 0,
      //time in milliseconds before the marquee will start animating
      delayBeforeStart: 0,
      //'left' or 'right'
      direction: 'up',
      //true or false - should the marquee be duplicated to show an effect of continues flow
      duplicated: true
  });
</script>